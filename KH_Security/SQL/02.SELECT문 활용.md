# SQL 연산 및 화면출력 제어

---

## 수식 검색

- SELECT 절에서 수식을 사용하여 계산 결과를 바로 조회할 수 있습니다.
- Oracle DB에서 dual은 실제 테이블이 아닌 `더미(dummy) 테이블`입니다.
- 단순 연산이나 시스템 함수 테스트에 사용됩니다.
```sql
SELECT 2+3
FROM dual;
```

- SELECT 절에 수식을사용할수있다.
- SELECT 절에 컬럼이 없는 경우 FROM절에는 더미 테이블명인 dual을이용한다.
  - SELECT문에 FROM절을 생략할 수 없다.

---

## 별명을 이용한 검색

```sql
SELECT eno AS "사원 번호", ename AS "이름" 
FROM emp;
```

```sql
SELECT dno 부서_번호, dname 부서명
FROM dept;
```

- 별명은 헤더의 출력을 지정한다.
- AS는 생략 가능하다.
- "(이중인용부호)가 필요한 경우
  - 공백이 포함된 경우
  - 특수문자가 포함된 경우
  - 대소문자를 구분하고자 할 경우

---

## 수식을 이용한 검색

- 컬럼에 산술 연산을 적용하여 계산된 값을 조회할 수 있습니다.
- 수식 결과는 그대로 출력되므로 별명을 지정하면 가독성이 크게 향상됩니다.
```sql
    SELECT empno AS "사번", ename AS "이름", sal * 12 AS "연봉", sal * 1.1 AS "인상_급여"
    FROM emp;
```

---

## Null이 포함된 연산

- NULL은 값이 없다는 의미가 아니라 값이 결정되지 않았음을 의미합니다.
- NULL이 포함된 모든 연산 결과는 항상 NULL이 됩니다.
```sql
    SELECT empno, ename, sal, comm, sal * 12 + comm AS "총급여"
    FROM emp;
```
- NULL 값을 보정하기 위해 NVL 함수를 사용합니다.
```sql
    SELECT empno, ename, sal, NVL(comm, 0) AS "보너스", sal * 12 + NVL(comm, 0) AS "총급여"
    FROM emp;
```

---

## 출력 화면 제어 

### SET 명령

SET LINESIZE ## ‐ 한라인에출력할문자의수
```sql
  SET LINESIZE 100
  -- 한 줄 출력 너비 설정
```

SET PAGESIZE ## ‐ 한페이지에출력할라인의수
```sql
  SET PAGESIZE 50
  -- 한 페이지당 출력 행 수 설정
```

### 컬럼 형식 지정

COLUMN 컬럼 FORMAT [A## | 숫자형식]
```sql
  COLUMN SNAME FORMAT A10
  -- sname 컬럼을 출력할 때, 문자형으로 최대 10칸 너비로 보이게 설정한다
```

- 컬럼의 출력형식을 지정한다.
- 문자컬럼 : A##로 출력너비를 지정한다.
- 숫자컬럼 : 0,9를 이용해서 출력형식을 지정한다

---
